-- 1. 테이블 초기화 (항상 맨 앞에 추가, 자식 테이블 먼저 삭제)
DROP TABLE IF EXISTS HR_GRADE;
DROP TABLE IF EXISTS HR_EMPLOYEES;
DROP TABLE IF EXISTS HR_DEPARTMENT;

-- 2. 부서 테이블 생성
CREATE TABLE HR_DEPARTMENT (
    DEPT_ID VARCHAR(10) NOT NULL,
    DEPT_NAME_KR VARCHAR(50) NOT NULL,
    DEPT_NAME_EN VARCHAR(50) NOT NULL,
    LOCATION VARCHAR(50) NOT NULL
);

-- 3. 사원 테이블 생성
CREATE TABLE HR_EMPLOYEES (
    EMP_NO VARCHAR(10) NOT NULL,
    EMP_NAME VARCHAR(20) NOT NULL,
    DEPT_ID VARCHAR(10) NOT NULL,
    POSITION VARCHAR(20) NOT NULL,
    EMAIL VARCHAR(50) NOT NULL,
    COMP_TEL VARCHAR(20) NOT NULL,
    HIRE_DATE DATE NOT NULL,
    SAL INTEGER NOT NULL
);

-- 4. 평가 점수 테이블 생성
CREATE TABLE HR_GRADE (
    EMP_NO VARCHAR(10) NOT NULL,
    YEAR INTEGER NOT NULL,
    HALF_YEAR INTEGER NOT NULL,
    SCORE INTEGER NOT NULL
);

-- 5. 데이터 삽입 (부서)
INSERT INTO HR_DEPARTMENT (DEPT_ID, DEPT_NAME_KR, DEPT_NAME_EN, LOCATION) VALUES
('D0001', '법무팀', 'Law Dep', '그렙타워 4층'),
('D0002', '인사팀', 'Human resources', '그렙타워 4층'),
('D0003', '총무팀', 'General Affairs', '그렙타워 4층');

-- 6. 데이터 삽입 (사원)
INSERT INTO HR_EMPLOYEES (EMP_NO, EMP_NAME, DEPT_ID, POSITION, EMAIL, COMP_TEL, HIRE_DATE, SAL) VALUES
('2017002', '정호식', 'D0001', '팀장', 'hosick_jung@grepp.com', '031-8000-1101', '2017-03-01', 65000000),
('2018001', '김민석', 'D0001', '팀원', 'minseock_kim@grepp.com', '031-8000-1102', '2018-03-01', 60000000),
('2019001', '김솜이', 'D0002', '팀장', 'somi_kim@grepp.com', '031-8000-1106', '2019-03-01', 60000000),
('2020002', '김연주', 'D0002', '팀원', 'yeonjoo_kim@grepp.com', '031-8000-1107', '2020-03-01', 53000000),
('2020005', '양성태', 'D0003', '팀원', 'sungtae_yang@grepp.com', '031-8000-1112', '2020-03-01', 53000000);

-- 7. 데이터 삽입 (평가 점수)
INSERT INTO HR_GRADE (EMP_NO, YEAR, HALF_YEAR, SCORE) VALUES
('2017002', 2022, 1, 92),
('2018001', 2022, 1, 89),
('2019001', 2022, 1, 94),
('2020002', 2022, 1, 90),
('2020005', 2022, 1, 92),
('2017002', 2022, 2, 84),
('2018001', 2022, 2, 89),
('2019001', 2022, 2, 81),
('2020002', 2022, 2, 91),
('2020005', 2022, 2, 81);

-- 8. 삽입된 데이터 최종 확인
SELECT * FROM HR_DEPARTMENT;
SELECT * FROM HR_EMPLOYEES;
SELECT * FROM HR_GRADE;